

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>FAQ &mdash; github.io 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="References" href="references.html" />
    <link rel="prev" title="Released Models" href="released_models.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> github.io
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">DELTA - A DEep learning Language Technology plAtform</a></li>
</ul>
<p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation/pick_installation.html">Pick a installation way for yourself</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation/install_from_source.html">Install from the source code</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation/using_docker.html">Installation using Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation/manual_setup.html">Manual Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation/install_on_macos.html">Install on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation/wheel_build.html">How to build the wheel file</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials/training/egs.html">Reproduce experiments - egs</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/training/speech_features.html">Speech Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/training/text_class_pip_example.html">A Text Classification Usage Example for pip users</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/training/text_class_source_example.html">A Text Classification Usage Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/training/data/asr_example.html">ASR Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/training/data/emotion-specch-cls.html">Emotion</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/training/data/emotion-specch-cls.html#data-description">data description</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/training/data/emotion-specch-cls.html#other">other</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/training/data/kws-cls.html">KWS Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/deployment/dpl.html">Deployment scripts - dpl</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/deployment/deltann.html">DELTA-NN architecture</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="development/docker.html">Develop with Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/deltann_compile.html">DELTA-NN compile</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/adding_op.html">Adding Tensorflow Op</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/serving.html">Serving</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/tensorrt.html">TensorRT</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/model_optimization.html">Model Optimization</a></li>
</ul>
<p class="caption"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="development/contributing.html">Contributing Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Released model</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="released_models.html">Released Models</a></li>
</ul>
<p class="caption"><span class="caption-text">FAQ</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#install">Install</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
</ul>
<p class="caption"><span class="caption-text">Version</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="version.html">Version</a></li>
<li class="toctree-l1"><a class="reference internal" href="version.html#release-version">Release Version</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#install">Install</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">DELTA - A DEep learning Language Technology plAtform</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="released_models.html">Released Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="version.html">Version</a></li>
<li class="toctree-l1"><a class="reference internal" href="version.html#release-version">Release Version</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">github.io</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>FAQ</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/faq.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="faq">
<h1>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">¶</a></h1>
<div class="section" id="install">
<h2>Install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ol class="simple">
<li><p>How to speed up the installation?</p></li>
</ol>
</div></blockquote>
<p>If you are a user from mainland China, you can use the comments code in
<code class="docutils literal notranslate"><span class="pre">tools/install/install-delta.sh</span></code>.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</span>
<span class="c1"># conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</span>
<span class="c1"># conda config --set show_channel_urls yes</span>
<span class="c1"># pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span>
</pre></div>
</div>
<blockquote>
<div><ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CondaValueError:</span> <span class="pre">prefix</span> <span class="pre">already</span> <span class="pre">exists:</span> <span class="pre">../miniconda3/envs/delta-py3.6-tf2.0.0</span></code> or <code class="docutils literal notranslate"><span class="pre">ERROR:</span> <span class="pre">unknown</span> <span class="pre">command</span> <span class="pre">&quot;config&quot;</span></code></p></li>
</ol>
</div></blockquote>
<p>Please update your conda by:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conda update -n base -c defaults conda
</pre></div>
</div>
<blockquote>
<div><ol class="simple">
<li><p>Custom operator error:
<code class="docutils literal notranslate"><span class="pre">tensorflow.python.framework.errors_impl.NotFoundError:</span> <span class="pre">/../delta/delta/layers/ops/x_ops.so:</span> <span class="pre">undefined</span> <span class="pre">symbol:</span> <span class="pre">_ZN10tensorflow8str_util9LowercaseEN4absl11string_viewE</span></code></p></li>
</ol>
</div></blockquote>
<p>This error always raise when you use the tensorflow installed by conda instead of pip. Conda use more high level gcc than pip dose to compile tensorflow. In this case, compilation of custom op with g++ 4.8 may cause this error.</p>
<p>You can use <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">-c</span> <span class="pre">conda-forge</span> <span class="pre">cxx-compiler</span></code> to update the g++ version under your conda env.</p>
<p>then, compile custom op again：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">pushd</span> delta/layers/ops/
./build.sh delta
<span class="nb">popd</span>
</pre></div>
</div>
<blockquote>
<div><ol class="simple">
<li><p>Segmentation fault.
0x00007fff48e930d4 in tensorflow::shape_inference::UnchangedShape(tensorflow::shape_inference::InferenceContext*) ()</p></li>
</ol>
</div></blockquote>
<p>This error always raise when you use the tensorflow installed by pip instead of conda. The pip is compiled by g++ 4.8. In this case, you need to install g++ 4.8 on your system and re-compile your custom op again.</p>
<p>The error no.3 and no.4 are similar questions. The principle is to keep the g++ version for tensorflow compilation and custom compilation same. You need to upgrade or downgrade your g++ according to the cases.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="references.html" class="btn btn-neutral float-right" title="References" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="released_models.html" class="btn btn-neutral float-left" title="Released Models" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Hui Zhang

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>